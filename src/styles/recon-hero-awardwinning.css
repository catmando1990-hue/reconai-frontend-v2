/* =======================================================================
   ReconAI "Intelligence Field" Hero Backdrop (v3.1)
   Product-first refinement: background supports UI (readability â†‘)
   ======================================================================= */

.recon-hero-v3 {
  position: relative;
  isolation: isolate;
  min-height: 100dvh;
  width: 100%;
  overflow: hidden;
  background: var(--background);
}

/* Content focus plane: increases contrast under UI without adding boxes */
.recon-hero-v3 .focus-plane {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -4;
  background:
    radial-gradient(
      1200px 700px at 42% 14%,
      color-mix(in oklab, var(--background) 78%, black 22%) 0%,
      transparent 72%
    ),
    radial-gradient(
      900px 600px at 58% 22%,
      color-mix(in oklab, var(--background) 86%, black 14%) 0%,
      transparent 70%
    ),
    linear-gradient(
      to bottom,
      color-mix(in oklab, var(--background) 92%, black 8%) 0%,
      transparent 60%
    );
  opacity: 0.85;
}

/* Softer cinematic vignette (less aggressive) */
.recon-hero-v3 .vignette {
  position: absolute;
  inset: -10%;
  pointer-events: none;
  z-index: -3;
  background:
    radial-gradient(
      1200px 720px at 50% 18%,
      transparent 42%,
      color-mix(in oklab, var(--background) 94%, black 6%) 78%
    ),
    radial-gradient(
      900px 600px at 20% 82%,
      transparent 46%,
      color-mix(in oklab, var(--background) 92%, black 8%) 86%
    ),
    radial-gradient(
      900px 600px at 80% 82%,
      transparent 46%,
      color-mix(in oklab, var(--background) 92%, black 8%) 86%
    );
  opacity: 0.72;
}

/* Mesh + glow field (reduced intensity) */
.recon-hero-v3::before {
  content: "";
  position: absolute;
  inset: -25%;
  pointer-events: none;
  z-index: -2;

  background:
    radial-gradient(
      900px 540px at 18% 22%,
      color-mix(in oklab, var(--primary) 18%, transparent),
      transparent 66%
    ),
    radial-gradient(
      780px 520px at 86% 30%,
      color-mix(in oklab, var(--accent) 16%, transparent),
      transparent 66%
    ),
    radial-gradient(
      880px 620px at 50% 92%,
      color-mix(in oklab, var(--ring) 14%, transparent),
      transparent 70%
    ),
    linear-gradient(
      135deg,
      color-mix(in oklab, var(--background) 94%, var(--muted) 6%),
      color-mix(in oklab, var(--background) 88%, var(--muted) 12%)
    );

  filter: saturate(1.02) contrast(1.03);
  transform: translate3d(0, 0, 0);
  opacity: 0.92;
}

/* Depth highlight "beam" (subtler) */
.recon-hero-v3 .beam {
  position: absolute;
  left: 50%;
  top: -22%;
  width: 1400px;
  height: 860px;
  transform: translateX(-50%) rotate(10deg);
  pointer-events: none;
  z-index: -1;

  background: radial-gradient(
    circle at 50% 50%,
    color-mix(in oklab, var(--primary) 10%, transparent) 0%,
    transparent 68%
  );
  filter: blur(18px);
  opacity: 0.3;
}

/* Grid mask (reduced) */
.recon-hero-v3 .grid {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  background-image:
    linear-gradient(
      to right,
      color-mix(in oklab, var(--border) 30%, transparent) 1px,
      transparent 1px
    ),
    linear-gradient(
      to bottom,
      color-mix(in oklab, var(--border) 30%, transparent) 1px,
      transparent 1px
    );
  background-size: 64px 64px;
  opacity: 0.14;
  mask-image: radial-gradient(circle at 50% 18%, black 0%, transparent 72%);
}

/* Micro-noise (reduced) */
.recon-hero-v3 .noise {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  opacity: 0.035;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.32'/%3E%3C/svg%3E");
}

/* Scanline (much lighter, further back) */
.recon-hero-v3 .scanline {
  position: absolute;
  left: -20%;
  right: -20%;
  height: 140px;
  top: -30%;
  pointer-events: none;
  z-index: -1;

  background: linear-gradient(
    to bottom,
    transparent,
    color-mix(in oklab, var(--foreground) 7%, transparent),
    transparent
  );
  opacity: 0.16;
  filter: blur(12px);
}

/* Content wrapper */
.recon-hero-v3 .content {
  position: relative;
  z-index: 0;
}

/* Motion: keep ultra subtle */
@keyframes recon-drift {
  0% {
    transform: translate3d(-4px, 0px, 0) scale(1.015);
  }
  50% {
    transform: translate3d(6px, -8px, 0) scale(1.02);
  }
  100% {
    transform: translate3d(-4px, 0px, 0) scale(1.015);
  }
}

@keyframes recon-scan {
  0% {
    transform: translateY(0) skewY(-8deg);
    opacity: 0;
  }
  10% {
    opacity: 0.16;
  }
  50% {
    opacity: 0.08;
  }
  90% {
    opacity: 0.16;
  }
  100% {
    transform: translateY(160vh) skewY(-8deg);
    opacity: 0;
  }
}

.recon-hero-v3.recon-animate::before {
  animation: recon-drift 18s ease-in-out infinite;
}

.recon-hero-v3.recon-animate .beam {
  animation: recon-drift 22s ease-in-out infinite reverse;
}

.recon-hero-v3.recon-animate .scanline {
  animation: recon-scan 12s linear infinite;
}

@media (prefers-reduced-motion: reduce) {
  .recon-hero-v3.recon-animate::before,
  .recon-hero-v3.recon-animate .beam,
  .recon-hero-v3.recon-animate .scanline {
    animation: none;
  }
}
